<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:f="http://java.sun.com/jsf/core"
      >
    <h:head>
        <title>JeWash | Pressing à Domicile - Adresses</title>
        <link rel="stylesheet" href="bootstrap-3.3.6/dist/css/bootstrap.min.css"  />
        <link rel="stylesheet" href="bootstrap-3.3.6/dist/js/bootstrap.min.js"  />
        <link rel="shortcut icon" type="image/png" href="JEWASH.png"/>
        <link rel="stylesheet" href="bootstrap-3.3.6/dist/font-awesome-4.6.3/css/font-awesome.min.css"  />
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
        <meta http-equiv="refresh" content="#{facesContext.externalContext.sessionMaxInactiveInterval};url=#{request.contextPath}/index.xhtml"/>
    </h:head>
    <style>
       body {font-size:13px;
       font-family: "Open Sans", "Helvetica Neue", Helvetica, Arial, sans-serif ;
       color: #6a6c6f ;} 
        
    </style>
    <h:body  style="font-family:Arial">
        <div class="row">
            <div class="col-md-3 col-sm-3" style="background:#CEE3F6;height:100%">
                <strong>
                    <center><span style="color:blue;">Bienvenue #{ordermanaged.login.customerfirstname}</span></center>
                    <center><img src="JEWASH.png" alt="Smiley face" height="120" width="120" /> </center>
                    <br/>
                    <ul class="nav nav-pills nav-stacked ">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                        <li role="presentation" ><a href="Order.xhtml"><i class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></i> RESERVER UN GROOM</a></li>
                        <li role="presentation" class="active nav-justified"><a href="Adresse.xhtml"><i class="glyphicon glyphicon-map-marker" aria-hidden="true"></i> ADRESSES</a></li>
                        <li role="presentation"><a href="paymentmode.xhtml"><i class="glyphicon glyphicon-credit-card" aria-hidden="true"></i> MODE DE PAYEMENT</a></li>
                        <li role="presentation"><a href="PriceList.xhtml"><i class="glyphicon glyphicon-usd" aria-hidden="true"></i> TARIFS</a></li>
                        <li role="presentation" ><a href="Profile.xhtml"><i class="glyphicon glyphicon-user" aria-hidden="true"></i> PROFIL</a></li>
                        <li role="presentation"><a href="preferences.xhtml"><i class="glyphicon glyphicon-cog" aria-hidden="true"></i> PREFERENCES</a></li>
                        <li role="presentation"><a href="history.xhtml"><i class="glyphicon glyphicon-inbox" aria-hidden="true"></i> HISTORIQUE</a></li>
                        <li role="presentation">   <h:form><h:commandLink style="margin-left: 14px" action="#{ordermanaged.logout()}" ><i class="glyphicon glyphicon-off" aria-hidden="true"></i> DECONNEXION</h:commandLink>  </h:form></li> </ul>
                </strong>   
            </div>
            <div class="col-md-9 col-sm-9">
                <div class="row">

                    <div class="col-md-12 ">
                        <strong>
                            <h2>Vos ADRESSES</h2>
                            <h4>À la maison, au bureau ou dans un parc (qui sait!) JeWash se déplace partout.</h4>
                        </strong>
                    </div>
                    <div class="col-md-12">

                        <div class="row">
                            <div class="col-md-12">

                                <div class="panel panel-default table-responsive">
                                    <!-- Default panel contents -->                     
                                    <div class="panel-heading" style="background:RGB(52,73,94);color:white">

                                        <strong> <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#addAdressModal" title="Ajouter une Nouvelle Adresse"><i class="glyphicon glyphicon-plus" aria-hidden="true"></i></button>
                                            <!-- Modal -->
                                            <div class="modal fade"  id="addAdressModal" role="dialog">
                                                <div class="modal-dialog">
                                                    <div class="modal-content" style="background:RGB(52,73,94);color:white">
                                                        <div class="modal-header">
                                                            <button type="button"  class="close" data-dismiss="modal">&times;</button>
                                                            <h4 class="modal-title">Ajouter une Adresse</h4>
                                                        </div>
                                                        <div class="modal-body">
                                                            <h:form class="form-signin">
                                                                <div class="input-group">

                                                                    <label for="adressName" class="sr-only">Nom de l'adresse (Maison, Bureau,...)</label>
                                                                    <span class="input-group-addon" id="adressAdd-addon1"><span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span></span>
                                                                    <h:inputText  id="adressName" class="form-control" value="#{ordermanaged.ad.addressname}" p:placeholder="Nom de l'adresse (Maison, Bureau,...)" required="true" ></h:inputText>

                                                                </div>                     
                                                                <br />
                                                                <div class="input-group">

                                                                    <label for="adressCity" class="sr-only">Ville (Douala,Bafoussam,...)</label>
                                                                    <span class="input-group-addon" id="adressAdd-addon2"><span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span></span>
                                                                    <h:inputText  id="adressCity" value="#{ordermanaged.ad.addresscity}" class="form-control" p:placeholder="Ville (Douala,Bafoussam,...)" required="true" />

                                                                </div>
                                                                <br />
                                                                <div class="input-group">

                                                                    <label for="adressNeighborhood" class="sr-only">Quartier (Akwa,Bonanjo,...)</label>
                                                                    <span class="input-group-addon" id="adressAdd-addon3"><span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span></span>
                                                                    <h:inputText  id="adressNeighborhood" value="#{ordermanaged.ad.addressneighborhood}" class="form-control" p:placeholder="Quartier (Douala,Bafoussam,...)" required="true" ></h:inputText>

                                                                </div>
                                                                <br />

                                                                <div class="input-group">
                                                                    <label for="adressNeighborhood" class="sr-only">Details Adresses (Akwa,Bonanjo,...)</label>
                                                                    <span class="input-group-addon" id="adressAdd-addon4"><span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span></span>
                                                                    <h:inputTextarea  rows="5" id="adressDetails" value="#{ordermanaged.ad.addressdetail}" class="form-control" p:placeholder="Nom de rue, étage, ... Soyez le plus precis possible pour faciliter le travail de notre Groom" required="true" ></h:inputTextarea>

                                                                </div>
                                                                <div class="modal-footer">
                                                                    <h:commandButton value="Plus Tard" class="btn btn-danger" action="#{ordermanaged.nullAddress()}" />
                                                                    <h:commandButton value="Enregistrer" styleClass="btn btn-primary" action="#{ordermanaged.saveAddress()}" />

                                                                </div>    
                                                            </h:form>
                                                        </div>     
                                                    </div>
                                                </div>
                                            </div> 
                                            <div class="modal fade"  id="addAdressModal2" role="dialog">
                                                <div class="modal-dialog">
                                                    <div class="modal-content" style="background:RGB(52,73,94);color:white">
                                                        <div class="modal-header">
                                                            <button type="button"  class="close" data-dismiss="modal">&times;</button>
                                                            <h4 class="modal-title">Modifier l' Adresse</h4>
                                                        </div>
                                                        <div class="modal-body">
                                                            <h:form class="form-signin" id="myForm">
                                                                <div class="input-group">

                                                                    <label for="adressName" class="sr-only">Nom de l'adresse (Maison, Bureau,...)</label>
                                                                    <span class="input-group-addon" id="adressAdd-addon1"><span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span></span>
                                                                    <h:inputText  id="adressName" class="form-control" value="#{ordermanaged.ad.addressname}" p:placeholder="Nom de l'adresse (Maison, Bureau,...)" required="true" ></h:inputText>

                                                                </div>                     
                                                                <br />
                                                                <div class="input-group">

                                                                    <label for="adressCity" class="sr-only">Ville (Douala,Bafoussam,...)</label>
                                                                    <span class="input-group-addon" id="adressAdd-addon2"><span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span></span>
                                                                    <h:inputText  id="adressCity" value="#{ordermanaged.ad.addresscity}" class="form-control" p:placeholder="Ville (Douala,Bafoussam,...)" required="true" />

                                                                </div>
                                                                <br />
                                                                <div class="input-group">

                                                                    <label for="adressNeighborhood" class="sr-only">Quartier (Akwa,Bonanjo,...)</label>
                                                                    <span class="input-group-addon" id="adressAdd-addon3"><span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span></span>
                                                                    <h:inputText  id="adressNeighborhood" value="#{ordermanaged.ad.addressneighborhood}" class="form-control" p:placeholder="Quartier (Douala,Bafoussam,...)" required="true" ></h:inputText>

                                                                </div>
                                                                <br />

                                                                <div class="input-group">
                                                                    <label for="adressNeighborhood" class="sr-only">Details Adresses (Akwa,Bonanjo,...)</label>
                                                                    <span class="input-group-addon" id="adressAdd-addon4"><span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span></span>
                                                                    <h:inputTextarea  rows="5" id="adressDetails" value="#{ordermanaged.ad.addressdetail}" class="form-control" p:placeholder="Nom de rue, étage, ... Soyez le plus precis possible pour faciliter le travail de notre Groom" required="true" ></h:inputTextarea>

                                                                </div>
                                                                <div class="modal-footer">
                                                                    <h:commandButton value="Plus Tard" class="btn btn-danger" action="#{ordermanaged.nullAddress()}" />
                                                                    <h:commandButton value="Modifier" class="btn btn-primary" action="#{ordermanaged.editAddress()}" />

                                                                </div>    
                                                            </h:form>
                                                        </div>     




                                                    </div>



                                                </div>


                                            </div>                    

                                            <div class="modal fade"  id="addAdressModal3" role="dialog">
                                                <div class="modal-dialog">
                                                    <div class="modal-content" style="background:RGB(52,73,94);color:white">
                                                        <div class="modal-header">
                                                            <button type="button"  class="close" data-dismiss="modal">&times;</button>
                                                            <h4 class="modal-title">Supprimer l' Adresse</h4>
                                                        </div>
                                                        <div class="modal-body">
                                                            <h:form class="form-signin" id="myForm1">
                                                                <div class="input-group">

                                                                    <label for="adressName" class="sr-only">Nom de l'adresse (Maison, Bureau,...)</label>
                                                                    <span class="input-group-addon" id="adressAdd-addon1"><span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span></span>
                                                                    <h:inputText  id="adressName" readonly="true" class="form-control" value="#{ordermanaged.ad.addressname}" p:placeholder="Nom de l'adresse (Maison, Bureau,...)" required="true" ></h:inputText>

                                                                </div>                     
                                                                <br />
                                                                <div class="input-group">

                                                                    <label for="adressCity" class="sr-only">Ville (Douala,Bafoussam,...)</label>
                                                                    <span class="input-group-addon" id="adressAdd-addon2"><span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span></span>
                                                                    <h:inputText  id="adressCity" readonly="true" value="#{ordermanaged.ad.addresscity}" class="form-control" p:placeholder="Ville (Douala,Bafoussam,...)" required="true" />

                                                                </div>
                                                                <br />
                                                                <div class="input-group">

                                                                    <label for="adressNeighborhood" class="sr-only">Quartier (Akwa,Bonanjo,...)</label>
                                                                    <span class="input-group-addon" id="adressAdd-addon3"><span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span></span>
                                                                    <h:inputText  id="adressNeighborhood" readonly="true" value="#{ordermanaged.ad.addressneighborhood}" class="form-control" p:placeholder="Quartier (Douala,Bafoussam,...)" required="true" ></h:inputText>

                                                                </div>
                                                                <br />

                                                                <div class="input-group">
                                                                    <label for="adressNeighborhood" class="sr-only">Details Adresses (Akwa,Bonanjo,...)</label>
                                                                    <span class="input-group-addon" id="adressAdd-addon4"><span class="glyphicon glyphicon-map-marker" aria-hidden="true"></span></span>
                                                                    <h:inputTextarea  rows="5" id="adressDetails" readonly="true" value="#{ordermanaged.ad.addressdetail}" class="form-control" p:placeholder="Nom de rue, étage, ... Soyez le plus precis possible pour faciliter le travail de notre Groom" required="true" ></h:inputTextarea>

                                                                </div>
                                                                <div class="modal-footer">
                                                                    <h:commandButton value="Plus Tard" class="btn btn-danger" action="#{ordermanaged.nullAddress()}"/>
                                                                    <h:commandButton value="Supprimer" action="#{ordermanaged.deleteAddress()}"    class="btn btn-primary" />

                                                                </div>    
                                                            </h:form>
                                                        </div>     
                                                    </div>
                                                </div>
                                            </div> 
                                        </strong>
                                    </div>   
                                </div>
                                <!-- Table -->
                                <h:form>
                                    <h:dataTable class="table" style="background:RGB(52,73,94);color:white" value="#{ordermanaged.listofAddress}" var="o">

                                        <h:column>
                                            <!-- column header -->
                                            <f:facet name="header">NOM DE L'ADRESSE</f:facet>
                                            <!-- row record -->
                                            #{o.addressname}
                                        </h:column>
                                        <h:column>
                                            <!-- column header -->
                                            <f:facet name="header">VILLE</f:facet>
                                            <!-- row record -->
                                            #{o.addresscity}
                                        </h:column>
                                        <h:column>
                                            <!-- column header -->
                                            <f:facet name="header">QUARTIER</f:facet>
                                            <!-- row record -->
                                            #{o.addressneighborhood}
                                        </h:column>
                                        <h:column>
                                            <!-- column header -->
                                            <f:facet name="header">ACTION</f:facet>
                                            <!-- row record -->
                                            <h:commandLink  class="btn btn-primary"  onclick="$('#addAdressModal2').modal('show');" immediate="true"   action="#{ordermanaged.showAddress(o.addressname,o.addresscity,o.addressneighborhood,o.addressdetail,o.addressid)}"  ><i class="glyphicon glyphicon-pencil" aria-hidden="true"></i>
                                                <f:ajax execute="@this" render=":myForm"/>
                                            </h:commandLink> 
                                            <h:commandLink   action="#{ordermanaged.showAddress(o.addressname,o.addresscity,o.addressneighborhood,o.addressdetail,o.addressid)}" onclick="$('#addAdressModal3').modal('show');" immediate="true"  class="btn btn-primary" title="Supprimer l'adresse"><i class="glyphicon glyphicon-trash" aria-hidden="true"></i>
                                             <f:ajax execute="@this" render=":myForm1"/>                                            
                                            </h:commandLink >
                                        </h:column>
                                    </h:dataTable>
                                </h:form>       
                            </div>
                        </div>
                    </div>
                </div>
            </div>              
        </div>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>  

    </h:body>
</html>

