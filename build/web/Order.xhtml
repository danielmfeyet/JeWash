<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>JeWash | Pressing à Domicile - Réservation </title>
        <link rel="stylesheet" href="bootstrap-3.3.6/dist/css/bootstrap.min.css"  />
        <link rel="shortcut icon" type="image/png" href="JEWASH.png"/>
        <link rel="stylesheet" href="bootstrap-3.3.6/dist/font-awesome-4.6.3/css/font-awesome.min.css" />
        <meta name="viewport" content="width=device-width, initial-scale=1"> </meta>
        <meta http-equiv="content-type" content="text/html; charset=utf-8" />
      <meta http-equiv="refresh" content="#{facesContext.externalContext.sessionMaxInactiveInterval};url=#{request.contextPath}/index.xhtml"/>
    </h:head>
    <h:body style="font-family:Arial">
        <div class="row">
            <div class="navbar col-md-3 col-sm-3" style="background:#CEE3F6;height:100%">
                <strong>
                    <center><span style="color:blue;">JeWash (#{ordermanaged.login.customerfirstname})</span></center>
                    <center><img src="JEWASH.png" alt="Smiley face" height="120" width="120" /> </center>
                    <br/>
                    <ul class="nav nav-pills nav-stacked ">
			<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
  <li role="presentation" class="active nav-justified"><a href="Order.xhtml"><i class="glyphicon glyphicon-shopping-cart" aria-hidden="true"></i> RESERVER UN GROOM</a></li>
  <li role="presentation"><a href="Adresse.xhtml"><i class="glyphicon glyphicon-map-marker" aria-hidden="true"></i> ADRESSES</a></li>
  <li role="presentation"><a href="paymentmode.xhtml"><i class="glyphicon glyphicon-credit-card" aria-hidden="true"></i> MODE DE PAYEMENT</a></li>
  <li role="presentation"><a href="PriceList.xhtml"><i class="glyphicon glyphicon-usd" aria-hidden="true"></i> TARIFS</a></li>
  <li role="presentation" ><a href="Profile.xhtml"><i class="glyphicon glyphicon-user" aria-hidden="true"></i> PROFIL</a></li>
  <li role="presentation"><a href="preferences.xhtml"><i class="glyphicon glyphicon-cog" aria-hidden="true"></i> PREFERENCES</a></li>
  <li role="presentation"><a href="history.xhtml"><i class="glyphicon glyphicon-inbox" aria-hidden="true"></i> HISTORIQUE</a></li>
  <li role="presentation">   <h:form><h:commandLink style="margin-left: 14px" action="#{ordermanaged.logout()}" ><i class="glyphicon glyphicon-off" aria-hidden="true"></i> DECONNEXION</h:commandLink>  </h:form></li>
</ul>
                </strong>
            </div>
            <div class="col-md-9 col-sm-9 col-xs-12">
                <div class="row">
                    <div class="col-md-12 ">
                        <strong>
                            <h2>Réserver votre GROOM</h2>
                            <h4>Le Groom se chargera de l'inventaire de vos vetements lors de ce rendez-vous</h4>
                        </strong>
                    </div>
                    <h:form>
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <div class="row">
                            <div class="col-md-6 col-sm-12 col-xs-12">
                                <h4>Récuperation</h4>
                                <div class="row">
                                    <div class="col-md-12">
                                        <strong>Adresse</strong>
                                        <div class="dropdown">
                                           
                                            <h:selectOneMenu  class="btn btn-default dropdown-toggle"  id="address" style="width: 200px"  value="#{ordermanaged.order.addressid}" converter="#{ordermanaged.addressConverter}"   required="true" requiredMessage="The Adress  field is required.">
                                    <!-- TODO: update below reference to list of available items-->
                                    <f:selectItems value="#{ordermanaged.listofAddress}" var="item" itemLabel="#{item.addressname}" itemValue="#{item}"/>
                                </h:selectOneMenu>
                                        </div>
                                        <br />
                                    </div>
                                    <div class="col-md-12">
                                        <strong>Date</strong>
                                        <div class="dropdown">
                                            <h:selectOneMenu id="dateplanif" class="btn btn-default dropdown-toggle" style="width: 200px" value="#{ordermanaged.newdate}" >  
             <p:ajax listener="#{ordermanaged.onDateChange()}" update="dateplanif1"/>
            <p:ajax listener="#{ordermanaged.onDateChange1()}" update="grade"/>
             <f:selectItems value="#{ordermanaged.listdatestring}" var="da" itemValue="#{da}" itemLabel="#{da}" />  
    </h:selectOneMenu>                         
                                        </div>
                                        <br/>                                       
                                    </div>
                                    <div class="col-md-12">
                                        <strong>Heure</strong>
                                        <div class="dropdown">
                                            <h:selectOneMenu  class="btn btn-default dropdown-toggle" id="grade" style="width: 200px" required="true" requiredMessage="Choisir l'heure de ramassage" value="#{ordermanaged.daterecup}" >  
             <f:selectItems value="#{ordermanaged.ldaterecup}" var="li" itemValue="#{li}" itemLabel="#{li}" />         
        </h:selectOneMenu>                                          
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 col-md-pull-1 ">
                                <h4>Livraison</h4>
                                <div class="row">                                   
                                    <div class="col-md-12">
                                        	<strong>Adresse</strong>
                                                <div class="dropdown">
                                                    <h:selectOneMenu  class="btn btn-default dropdown-toggle" id="address1" style="width: 200px"  value="#{ordermanaged.order.addAddressid}" converter="#{ordermanaged.addressConverter}"  required="true" requiredMessage="The Adress  field is required.">
                                    <!-- TODO: update below reference to list of available items-->
                                    <f:selectItems value="#{ordermanaged.listofAddress}" var="item2" itemLabel="#{item2.addressname}" itemValue="#{item2}"/>
                                </h:selectOneMenu>                                                                                                   
                                                </div>
                                                <br />
                                    </div>
                                    <div class="col-md-12">
                                        <strong>Date</strong>
                                        <div class="dropdown">
                                             <h:selectOneMenu class="btn btn-default dropdown-toggle" id="dateplanif1" style="width: 200px"  value="#{ordermanaged.newdate1}" >    
             
             <f:selectItems value="#{ordermanaged.listdatestring1}" var="da" itemValue="#{da1}" itemLabel="#{da1}" />  
    </h:selectOneMenu>  
                                        </div>
                                        <br/>
                                    </div>
                                    <div class="col-md-12">
                                        <strong>Heure</strong>
                                        <div class="dropdown">
                                            <h:selectOneMenu class="btn btn-default dropdown-toggle" id="grade1" style="width: 200px" requiredMessage="The Adress  field is required." value="#{ordermanaged.dateliv}" >  
             <f:selectItems value="#{ordermanaged.ldateliv}" var="liv" itemValue="#{liv}" itemLabel="#{liv}" />
        </h:selectOneMenu>
                                        </div>
                                    </div>
                                </div>
                                <br/>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-3 col-xs-push-2 col-md-3 col-md-push-2 ">
                          <p:commandButton value="Commander" styleClass="btn btn-md btn-primary btn-block"  style="background-color:#337ab7;" action="#{ordermanaged.saveOrder(ordermanaged.newdate)}" update="@form" />  
                            </div>
                        </div>
                    </div>
</h:form>
                </div>
            </div>
        </div>
    </h:body>
</html>

